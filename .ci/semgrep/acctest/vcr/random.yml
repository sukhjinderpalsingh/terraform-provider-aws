# Copyright IBM Corp. 2014, 2026
# "SPDX-License-Identifier: MPL-2.0"

rules:
  - id: use-acctest-randomwithprefix
    languages: [go]
    message: "Use acctest.RandomWithPrefix instead of sdkacctest.RandomWithPrefix for VCR-compatible acceptance testing"
    severity: WARNING
    pattern: |
      sdkacctest.RandomWithPrefix($P)
    fix: |
      acctest.RandomWithPrefix(t, $P)
    paths:
      include:
        - "**/*_test.go"
      exclude:
        - "/internal/provider/sdkv2"
        - "/internal/service/apigatewayv2"
        - "/internal/service/arcregionswitch"
        - "/internal/service/billing"
        - "/internal/service/cleanrooms"
        - "/internal/service/docdb"
        - "/internal/service/ec2"
        - "/internal/service/networkflowmonitor"
        - "/internal/service/observabilityadmin"
        - "/internal/service/odb"
        - "/internal/service/savingsplans"

  - id: use-acctest-randint
    languages: [go]
    message: "Use acctest.RandInt instead of sdkacctest.RandInt for VCR-compatible acceptance testing"
    severity: WARNING
    pattern: |
      sdkacctest.RandInt()
    fix: |
      acctest.RandInt(t)
    paths:
      include:
        - "**/*_test.go"
      exclude:
        - "/internal/provider/sdkv2"
        - "/internal/service/apigatewayv2"
        - "/internal/service/arcregionswitch"
        - "/internal/service/billing"
        - "/internal/service/cleanrooms"
        - "/internal/service/docdb"
        - "/internal/service/ec2"
        - "/internal/service/networkflowmonitor"
        - "/internal/service/observabilityadmin"
        - "/internal/service/odb"
        - "/internal/service/savingsplans"

  - id: use-acctest-randintrange
    languages: [go]
    message: "Use acctest.RandIntRange instead of sdkacctest.RandIntRange for VCR-compatible acceptance testing"
    severity: WARNING
    pattern: |
      sdkacctest.RandIntRange($X, $Y)
    fix: |
      acctest.RandIntRange(t, $X, $Y)
    paths:
      include:
        - "**/*_test.go"
      exclude:
        - "/internal/provider/sdkv2"
        - "/internal/service/apigatewayv2"
        - "/internal/service/arcregionswitch"
        - "/internal/service/billing"
        - "/internal/service/cleanrooms"
        - "/internal/service/docdb"
        - "/internal/service/ec2"
        - "/internal/service/networkflowmonitor"
        - "/internal/service/observabilityadmin"
        - "/internal/service/odb"
        - "/internal/service/savingsplans"
